<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19 Analysis Report</title>
</head>
<body>
    <h1>COVID-19 Analysis Report</h1>
    <h2>Introduction</h2>
    <p>This report analyzes the COVID-19 pandemic response in Ireland compared to nine other countries.</p>
    
    <h2>Data Preparation</h2>
    <pre><code class="language-python">
import pandas as pd
import geopandas as gpd
import matplotlib.pyplot as plt
import seaborn as sns
import contextily as ctx

# Load the dataset
country_data = pd.read_csv('/mnt/data/country_data.csv')

# Select relevant columns for the analysis
selected_columns = ['location', 'date', 'total_cases', 'new_cases', 'total_deaths', 'new_deaths', 'population']
country_data = country_data[selected_columns]

# Convert date to datetime
country_data['date'] = pd.to_datetime(country_data['date'])

# Calculate Case Fatality Rate (CFR)
country_data['CFR'] = (country_data['total_deaths'] / country_data['total_cases']) * 100

# Aggregate data for summary
summary = country_data.groupby('location').agg({
    'total_cases': 'sum',
    'new_cases': 'sum',
    'total_deaths': 'sum',
    'new_deaths': 'sum',
    'population': 'max'
}).reset_index()

# Calculate Cases and Deaths per Million
summary['cases_per_million'] = (summary['total_cases'] / summary['population']) * 1e6
summary['deaths_per_million'] = (summary['total_deaths'] / summary['population']) * 1e6

# Filter for Ireland data
ireland_data = country_data[country_data['location'] == 'Ireland']
    </code></pre>
    [5 rows x 52 columns]
Index(['iso_code', 'continent', 'location', 'date', 'total_cases', 'new_cases',
       'new_cases_smoothed', 'total_deaths', 'new_deaths',
       'new_deaths_smoothed', 'total_cases_per_million',
       'new_cases_per_million', 'new_cases_smoothed_per_million',
       'total_deaths_per_million', 'new_deaths_per_million',
       'new_deaths_smoothed_per_million', 'reproduction_rate', 'icu_patients',
       'icu_patients_per_million', 'hosp_patients',
       'hosp_patients_per_million', 'weekly_icu_admissions',
       'weekly_icu_admissions_per_million', 'weekly_hosp_admissions',
       'weekly_hosp_admissions_per_million', 'total_tests', 'new_tests',
       'total_tests_per_thousand', 'new_tests_per_thousand',
       'new_tests_smoothed', 'new_tests_smoothed_per_thousand',
       'positive_rate', 'tests_per_case', 'tests_units', 'total_vaccinations',
       'people_vaccinated', 'people_fully_vaccinated', 'total_boosters',
       'new_vaccinations', 'new_vaccinations_smoothed',
       'total_vaccinations_per_hundred', 'people_vaccinated_per_hundred',
       'people_fully_vaccinated_per_hundred', 'total_boosters_per_hundred',
       'new_vaccinations_smoothed_per_million',
       'new_people_vaccinated_smoothed',
       'new_people_vaccinated_smoothed_per_hundred', 'population',
       'excess_mortality_cumulative_absolute', 'excess_mortality_cumulative',
       'excess_mortality', 'excess_mortality_cumulative_per_million'],
      dtype='object')

    <h2>World Map Chart</h2>
    <pre><code class="language-python">
# World Map Chart
world = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))
world = world.merge(summary, how='left', left_on='name', right_on='location')
ax = world.plot(column='cases_per_million', cmap='OrRd', legend=True, figsize=(15, 10), missing_kwds={'color': 'lightgrey'})
ctx.add_basemap(ax, crs=world.crs, source=ctx.providers.Stamen.TonerLite)
plt.title('Total COVID-19 Cases per Million by Country')
plt.show()
    </code></pre>
    <!-- Rendered output of the world map chart -->
    <img src="2.png" alt="Total COVID-19 Cases per Million by Country">

    <h2>Bar Chart</h2>
    <pre><code class="language-python">
# Bar Chart
plt.figure(figsize=(12, 6))
top_10_cases = summary.sort_values('total_cases', ascending=False).head(10)
sns.barplot(x='location', y='total_cases', data=top_10_cases)
plt.title('Top 10 Countries by Total COVID-19 Cases')
plt.xticks(rotation=45)
plt.show()
    </code></pre>
    <!-- Rendered output of the bar chart -->
    <img src="3.png" alt="Top 10 Countries by Total COVID-19 Cases">

    <h2>Scatterplot with Linear Regression Line</h2>
    <pre><code class="language-python">
# Scatterplot with Linear Regression Line
plt.figure(figsize=(10, 6))
sns.regplot(x='total_cases', y='total_deaths', data=summary)
plt.title('Scatterplot of Total Cases vs Total Deaths with Linear Regression Line')
plt.xlabel('Total Cases')
plt.ylabel('Total Deaths')
plt.show()
    </code></pre>
    <!-- Rendered output of the scatterplot -->
    <img src="4.png" alt="Scatterplot of Total Cases vs Total Deaths with Linear Regression Line">

    <h2>Time-Series Chart</h2>
    <pre><code class="language-python">
# Time-Series Chart for Ireland
ireland_time_series = ireland_data.groupby('date').agg({
    'new_cases': 'sum',
    'new_deaths': 'sum'
}).reset_index()
plt.figure(figsize=(12, 6))
plt.plot(ireland_time_series['date'], ireland_time_series['new_cases'], label='New Cases')
plt.plot(ireland_time_series['date'], ireland_time_series['new_deaths'], label='New Deaths')
plt.title('Time-Series of COVID-19 Cases and Deaths in Ireland')
plt.xlabel('Date')
plt.ylabel('Count')
plt.legend()
plt.show()
    </code></pre>
    <!-- Rendered output of the time-series chart -->
    <img src="5.png" alt="Time-Series of COVID-19 Cases and Deaths in Ireland">

    <h2>Conclusion</h2>
    <p>This analysis provides insights into the COVID-19 pandemic response in Ireland compared to other countries.</p>
</body>
</html>
